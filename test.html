<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>js-markdown-extra test</title>
  <script src="js-pandoc.js"></script>
  <style type="text/css">
  #result table, #result th, #result td { border: 1px solid gray; }
  #result pre, #result code { background: #EEE; }
  </style>
</head>
<body>
  <div style="float:left; width:50%;">
    <h1>Markdown</h1>
    <pre id="mdtext" style="border:1px solid gray; margin:1em; padding:1em;">
Syntax Cheatsheet
========================================
PHRASE EMPHASIS
---------------
*italic*   **bold**  
_italic_   __bold__

### Pandoc

~~strikethrough~~
subscript: H~2~O
superscript: 2^10^ = 1024

LINKS
---------------
Inline:
An [example](http://url.com/ "Title")

Reference-style labels (titles are optional):
An [example][id]. Then, anywhere  
else in the doc, define the link:

  [id]: http://example.com/  "Title"

IMAGES
---------------
Inline (titles are optional):
![alt text](/path/img.jpg "Title")

Reference-style:
![alt text][id]

  [id]: /url/to/img.jpg "Title"

HEADERS
---------------
Setext-style:
Header 1
========

Header 2
--------

atx-style (closing #'s are optional):

# Header 1 #

## Header 2 ##

###### Header 6

LISTS
---------------
Ordered, without paragraphs:

1.  Foo
2.  Bar

Unordered, with paragraphs:

*   A list item.

    With multiple paragraphs.

*   Bar

You can nest them:

*   Abacus
    * ass
*   Bastard
    1.  bitch
    2.  bupkis
        * BELITTLER
    3. burper
*   Cunning

BLOCKQUOTES
---------------
> Email-style angle brackets
> are used for blockquotes.

> > And, they can be nested.

> #### Headers in blockquotes
> 
> * You can quote a list.
> * Etc.

CODE SPANS
---------------
`&lt;code&gt;` spans are delimited
by backticks.

You can include literal backticks
like `` `this` ``.

PREFORMATTED CODE BLOCKS
---------------
Indent every line of a code block by at least 4 spaces or 1 tab.

This is a normal paragraph.

    This is a preformatted
    code block.

HORIZONTAL RULES
---------------
Three or more dashes or asterisks:

---

* * *

- - - -

MANUAL LINE BREAKS
---------------
End a line with two or more spaces:

Roses are red,   
Violets are blue.

- - - - - - - - - - - - - - - - - - - -

Footnotes
---------------
This footnote will appear at the bottom of the document[^1].

The footnote doesn't have to be a number[^nonumber].

[^1]: Told you it'd be here at the bottom.
[^nonumber]: See, not a number.
             Though it does appear as a number in the html's ordered list.
             
### Pandoc

Here is an inline note.^[Inlines notes are easier to write, since
you don't have to pick an identifier and move down to type the
note.]

Markdown Style Tables
---------------------

this should not have empty cells before it:

|a |b |c
|--|--|--
|1 |2 |3

or

a |b |c
--|--|--
1 |2 |3

alignment

  rigt|left  | center
-----:|:-----|:------:
 0001 | 2    | 003
   4  | 0005 |  6
   

### My extensions

Use ``'`` to add text to the cell above.
This allows for block elements inside the table!

|a |b             |c
|--|--------------|--
|1 |Write in more |3
'1 'than one line '3



Use `^` to add text to the cell above *and* extend the **rowspan**:

|a        |b      |c
|---------|-------|--
|vertical |awsome |3
^span     |great  |6


Use more than one ``|`` (or ``^`` or ``'``) to extend the **colspan**
(This is inspired by Multimarkdown):

|combined || c 
|----|----|---
|1   |2   |3  
| 4  | 5 & 6 ||


Use ``=``s to make the whole column to ``&lt;th&gt;``s:

a   |b |c
====|--|--
th1 |2 |3
th4 |5 |6


Use a second row with `-` to get `&lt;tfoot&gt;` (like `&lt;thead&gt;`):

a |b |c
--|--|--
1 |2 |3
4 |5 |6
--|--|--
x |y |z

Use `;` next to the the end of the cell to set *single cell* align: 

a     |b     |c
------|------|--
right;|2     |;center;|
4     |;left |6

The same applies for vertical align:

|a      |b      |c
|-------|-------|--
|right ;|2      |;center;|
'...    '       '        '
'middle;'       ' top    '
|4      | left  |6
'       ';bottom'

Like in Markdown Extra, you can set align for the rest of the column with `:`.
You can do this in any cell, not just in the `-----` line.
It gets stopped by the next single cell align.

|right :|default| c
|-------|:------|--------
|  right|left   | 3
|  right|left   | 6
|;left  |left   |:center:
|default|left   | center

Again, the same applies for vertical align, only that it sets the
vertical align for the rest of the *row*.

/*
|a      |b      |c
|-------|-------|--
|right ;|2      |;center;|
'...    '       '        '
'middle;'       ' top    '
|4      | left  |6
'       ';bottom'
*/

Pandoc Style Tables
---------------------

### Gridtables

+---+---+
| a | b |
+===+===+
| c | d |
+---+---+

+---+---+---+
| A | B | C |
+---+---+---+
| D | E | F |
+---+---+---+
| G | H | I |
+---+---+---+



#### My extensions

Gridless tables:

+   +   +   +
  A   B   C  
+   +   +   +
  D   E   F  
+   +   +   +
  G   H   I  
+   +   +   +

Forcing spanning cells (combines B & E):

+   +   +   +
  A   B | C  
+   +   +   +
  D   E | F  
+   +   +   +
  G   H   I  
+   +   +   +


Forcing spanning cells (combines D & E):

+   +   +   +
  A   B   C  
+   +   +   +
  D   E   F  
+  -+-  +   +
  G   H   I  
+   +   +   +

Combination test:
B gets ignored, because it looks like a rowspan in line 1, then D & E spans past B.

+   +   +   +
  A   B | C  
+   +   +   +
  D   E | F  
+  -+-  +   +
  G   H   I  
+   +   +   +



Automatic Rowspan and Colspan. If any symbol that my not normally appear in a border gets
in between the border, it is interpreted as a spanning cell.

vertically:
(Bug: why additionaly line at the bottom)

+---+---+---+  
| A | B | C |  
+---+ J +---+  
| D | E | F |  
+---+---+---+  
| G | H | I |  
+---+---+---+


without borders:

+   +   +   +
  A   B   C  
+   + J +   +
  D   E   F  
+   +   +   +
  G   H   I  
+   +   +   +


horizontally:
(Bug: This should get a horizontal span!!!)

+---+---+---+ 
| A | B | C | 
+---+---+---+ 
| D J E | F | 
+---+---+---+ 
| G | H | I | 
+---+---+---+ 

without borders:

+   +   +   +
  A   B   C  
+   +   +   +
  D J E   F  
+   +   +   +
  G   H   I  
+   +   +   +

##### text-align

The borders of the gridtable must consist of the
following characters: `-` for horizontal lines, `|` (for
vertical lines), `=` (for headers), `:` (for sticky alignment),
`;` (for single alignment) or space (for automatic lines).

###### horizontal alignment

`;----` will align the cell below it *left*.\
`----;` will align the cell below it *right*.\
`;---;` will align the cell below it *justified*.[^centervsjust]\
`--;--` will align the cell below it *centered*; the ';'
can be anywhere in the middle.[^centervsjust]\
(`;--"."--`, `--"."--;`, `;--"."--;`, `--;"."--` or
 `.;----`, `-----;.`, `.;----;.`, `--;.;--` are planned
to align the cell below it *to the char* between the `"`s.)

[^centervsjust]: im not yet sure how to solve this problem.

* If you use `:` instead of `;`, all of the following cells in
the same *column* will be aligned until another single cell
alignment stops it again.

###### vertical alignment

`;||||` will align the cell right to it *top*.\
`||||;` will align the cell right to it *bottom*.\
`;|||;` will align the cell right to it *middle*.\
`||;||` will align the cell right to it *middle*; the ';'
can be anywhere in the middle.

* If you use `:` instead of `;`, all of the following cells in
the same *row* will be aligned until another single cell
alignment stops it again.

 






Definition list
-----------------

term
 : definithion

term
 : definithion
 : is here

term
 : definithion

 : can have multi paragraph

Auto link
-----------------

&lt;http://foo.com/>  
&lt;mailto:foo@bar.com>

Encode
-----------------

&amp; &lt; "aaa"

Inline HTML
-----------------

&lt;p>
HTML is represented as is.&lt;br>
&lt;del>The &lt;strong>quick brown fox&lt;/strong> jumps over the lazy dog.&lt;/del>
&lt;/p>

&lt;div>
Regularly Markdown syntax ignored in HTML.&lt;br/>
[Google](http://www.google.co.jp/)
&lt;/div>

&lt;div markdown="1">
Markdow enabled inside HTML when marked by markdown="1" attribute.  
[Google](http://www.google.co.jp/)
&lt;/div>

    </pre>
  </div>

  <div style="float:right; width:50%;">
    <h1>Html</h1>
    <div id="result" style="border:1px solid gray; margin:1em; padding:1em;">
      <script>
        var mdtextElement = document.getElementById('mdtext');
        var mdtext = mdtextElement.innerText ? mdtextElement.innerText : mdtextElement.textContent;
        /*
        document.write('<pre>' + mdtext
            .replace(/&/g, '&amp;')
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;') + '</pre>');
        document.write('<hr/>');
        document.write('<pre>' + Markdown(mdtext)
            .replace(/&/g, '&amp;')
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;') + '</pre>');
        document.write('<hr/>');
        */
        document.write(Pandoc(mdtext));
      </script>
    </div>
  </div>
  
  <hr style="clear:both;" />
</body>
</html>
